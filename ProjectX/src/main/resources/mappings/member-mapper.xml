<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 맵퍼파일 생성 후 반드시 sql-map-config.xml 파일에 mapper 등록해줘야 함 -->
<mapper namespace="memberMapper">

	<resultMap type="com.spring.biz.vo.MemInfoVO" id="memInfo">
		<result column="MEM_EMAIL"           property="memEmail"/> 
		<result column="MEM_PASS"      	      property="memPass"/> 
		<result column="MEM_NAME"        	  property="memName"/> 
		<result column="MEM_AGE"         	  property="memAge"/> 
		<result column="MEM_GENDER"			  property="memGender"/> 
		<result column="MEM_BIRTH_YEAR"		  property="memBirthYear"/>
		<result column="MEM_BIRTH_MONTH"  	  property="memBirthMonth"/>
		<result column="MEM_BIRTH_DAY"  	  property="memBirthDay"/>
		<result column="MEM_TEL1"     	  	  property="memTel1"/> 
		<result column="MEM_TEL2"          	  property="memTel2"/> 
		<result column="MEM_ADDR"          	  property="memAddr"/> 
		<result column="DEL_YN"           	  property="delYn"/> 
		<result column="MEM_JOIN_DATE"    	  property="memJoinDate"/> 
		<result column="IS_ADMIN"			  property="isAdmin"/> 
		<result column="MEM_IMAGE"        	  property="memImage"/> 
	</resultMap>

	
	
	<resultMap type="com.spring.biz.vo.CompanyInfoVO" id="companyInfo">
	<result column="COM_NUM"           		property="comNum"/> 
	<result column="COM_PASS"      	     	property="comPass"/> 
	<result column="COM_EMAIL"        		property="comEmail"/> 
	<result column="COM_NAME"         	  	property="comName"/> 
	<result column="COM_CEO"        		property="comCeo"/> 
	<result column="COM_LOC"        	 	property="comLoc"/> 
	<result column="COM_TYPE"           	property="comType"/> 
	<result column="COM_TEL"           		property="comTel"/> 
	<result column="COM_JOIN_DATE"         property="comJoinDate"/> 
	<result column="COM_AVG_SCORE"         property="comAvgScore"/> 
	<result column="COM_GIVE_PERSON"       property="comGivePerson"/> 
	<result column="COM_SCORE"           	property="comScore"/> 
	</resultMap>
	
	<resultMap type="com.spring.biz.vo.AdminNoticeVO" id="adminNotice">
		<result column="BOARD_NUMBER"            property="boardNumber"/> 
		<result column="BOARD_TITLE"      	      property="boardTitle"/> 
		<result column="BOARD_CONTENT"        	  property="boardContent"/> 
		<result column="TODAY_DATE"         	  property="todayDate"/> 
	</resultMap>
	
	<resultMap type="com.spring.biz.vo.MemResumeVO" id="memResume">
		<result column="RESUME_NUM"            property="resumeNum"/> 
		<result column="RESUME_NAME"      	    property="resumeName"/> 
		<result column="RESUME_DATE"        	property="resumeDate"/> 
		<result column="EDU_GRADE"         	  	property="eduGrade"/> 
		<result column="EDU_SCHOOL"         	property="eduSchool"/> 
		<result column="EDU_LOC"         	 	property="eduLoc"/> 
		<result column="EDU_TYPE"         	  	property="eduType"/> 
		<result column="EDU_MAJOR"         	  	property="eduMajor"/> 
		<result column="EDU_BEGIN_DATE"        property="eduBeginDate"/> 
		<result column="EDU_END_DATE"         	property="eduEndDate"/> 
		<result column="EDU_IS_OVER"         	property="eduIsOver"/> 
		<result column="BE_COMPANY"         	property="beCompany"/> 
		<result column="BE_CAREER"         	  	property="beCareer"/> 
		<result column="BE_TYPE"         	  	property="beType"/> 
		<result column="BE_POSITION"         	property="bePosition"/> 
		<result column="MEM_EMAIL"         	  	property="memEmail"/> 
		<result column="HOPE_TYPE"         	  	property="hopeType"/> 
		<result column="HOPE_SAL"         	  	property="hopeSal"/> 
		<result column="HOPE_LOC"         	  	property="hopeLoc"/> 
		<result column="HOPE_TIME"         	  	property="hopeTime"/> 
	</resultMap>
	
	<!-- 이력서 insert -->
	<!-- <insert id="insertResume">
		INSERT INTO MEM_RESUME (
			RESUME_NUM
			, RESUME_NAME
			, EDU_GRADE
			, EDU_SCHOOL
			, EDU_LOC
			, EDU_TYPE
			, EDU_MAJOR
			, EDU_BEGIN_DATE
			, EDU_END_DATE
			, EDU_IS_OVER
			, EDU_SCORE
			, BE_COMPANY
			, BE_CAREER
			, BE_TYPE
			, BE_POSITION
			, HOPE_TYPE
			, HOPE_SAL
			, HOPE_LOC
			, HOPE_TIME
		) VALUES (
			(SELECT NVL(MAX(RESUME_NUM) + 1 , 1) FROM MEM_RESUME)
			, #{resumeName}
			, #{eduGrade}
			, #{eduSchool}
			, #{eduLoc}
			, #{eduType}
			, #{eduMajor}
			, #{eduBeginDate}
			, #{eduEndDate}
			, #{eduIsOver}
			, #{eduScore}
			, #{beCompany}
			, #{beCareer}
			, #{beType}
			, #{bePosition}
			, #{hopeType}
			, #{hopeSal}
			, #{hopeLoc}
			, #{hopeTime}
		)
	</insert>
	
	<insert id="insertLicense">
		INSERT ALL
		<foreach collection="licenseList" item="license" index="index">
			INTO LICENSE (
				LIC_NUM
				, LIC_NAME
				, LIC_LOC
				, LIC_GRADE
				, LIC_DATE
			) VALUES (
				(SELECT NVL(MAX(LIC_NUM)+1,1) + #{index} FROM LICENSE)
			 	, #{license.licName}
			 	, #{license.licLoc}
			 	, #{license.licGrade}
			 	, #{license.licDate}
			)
		</foreach>
		SELECT * FROM DUAL
	</insert>
	
	<insert id="insertProfiles">
		INSERT ALL
		<foreach collection="profilesList" item="pro" index="index">
			INTO PROFILES (
				PRO_NUM
				, PRO_TITLE
				, PRO_CONTENT
			) VALUES (
				(SELECT NVL(MAX(PRO_NUM)+1,1) + #{index} FROM PROFILES)
			 	, #{pro.proTitle}
			 	, #{pro.proContent}
			)
		</foreach>
		SELECT * FROM DUAL
	</insert>
 -->


</mapper>
